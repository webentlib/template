DEPLOY
======

### NGINX

1. Создать папку /nginx/ в /myproject/
2. Описать myproject.nginx.conf | см. template

### СЕКРЕТЫ

1. Сгенерировать SECRET_KEY для settings_local.py `from django.core.management.utils import get_random_secret_key ; print(get_random_secret_key())`

### GIT

1. Создать .gitignore в корне /myproject/ | см. template
2. Создать .gitignore в /api/ | см. template
3. Создать .gitignore в /art/ | см. template
4. Добавить к трекинку дополнительные репозитории. Создать соответствующие папки с пустым README.md, [добавить], удалить и спулить репозитории заново.

### DOCKER

1. Создать Dockerfile для /api/ и /art/ | см. template
2. Создать .dockerignore для /api/ и /art/ | см. template
3. Создать docker-compose.yml для всего | см. template

### ОКРУЖЕНИЕ, ЛОКАЛЬНЫЕ НАСТРОЙКИ И ПОДКЛЮЧЕНИЕ К POSTGRESQL

1. Создать окружение в /myproject/ | touch .env | см. template
2. Создать шаблон окружения | cp .env .env.tmpl
3. Создать шаблон локальных настроек | cp api/conf/settings_local.py api/conf/settings_local.py.tmpl

### REQUIREMENTS

1. Создать requirements.txt в /api/ | touch api/requirements.txt
2. Установить pipdeptree | pip install pipdeptree

### INVOKE

1. Установить invoke | pip install invoke
2. Создать tasks.py в /myproject/ | touch tasks.py | см. template
3. Убедиться, что описана функция `freeze`, вызывающая `pipdeptree -fl` | см. template
4. Получить список установленных пакетов, вынести их руками в requirements.txt, исключив лишнее | invoke freeze
5. Создать шаблон invoke | cp tasks.py tasks.py.tmpl
